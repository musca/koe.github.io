{"version":3,"sources":["site.js"],"names":["o","$","document","ready","PreloadImage","imgSrc","callback","css","after","objImagePreloader","fImg","addClass","imgHeight","height","scrollWindow","offset","top","Image","src","complete","onload","remove","topPos","window","scrollTo","pjax","connect","parseJS","e","closeOverlay","getElementById","addEventListener","event","console","log","click","preventDefault","toggleClass","removeClass","Blazy","ajax","url","type","method","jsonpCallback","fail","err","alert","success","data","repos","tmpHolder","i","tmp","html_url","name","language","description","push","append","join","error","li","items","imgHolder","sort","Math","random","u","media","m","replace","width","resize","delegate","this","attr"],"mappings":"AACA,GAAIA,GAAIC,CAERA,GAAEC,UAAUC,MAAM,WAgGjB,QAASC,GAAaC,EAAQC,GAiB5B,QAASA,KAENN,EAAE,iBAAiBO,IAAI,UAAW,QAClCP,EAAE,cAAcQ,MAAMC,GACtBC,KAAOV,EAAE,iBACTU,KAAKC,SAAS,OAChB,IAAIC,GAAYF,KAAKG,QACfD,GAAY,KACfZ,EAAE,iBAAiBO,IAAI,YAAa,OAErCO,EAAad,EAAE,WAAWe,SAASC,KA1BtC,GAAIP,GAAoB,GAAIQ,MAE5BR,GAAkBS,IAAMb,EACrBI,EAAkBU,UAClBb,IACDG,EAAkBW,OAAO,eAGxBpB,EAAE,iBAAiBO,IAAI,UAAW,SACnCE,EAAkBW,OAAS,WACzBpB,EAAE,iBAAiBqB,SACnBf,IACAG,EAAkBW,OAAO,eAkB9B,QAASN,GAAaQ,GACpBC,OAAOC,SAAS,EAAGF,GA/HrBtB,EAAE,QAAQW,SAAS,UAEnBc,KAAKC,SACHC,SAAS,EACTR,SAAY,SAASS,GAEnBC,kBAGJ3B,SAAS4B,eAAe,WAAWC,iBAAiB,WAAY,SAASC,GACxEC,QAAQC,IAAIF,KACV,GAGH/B,EAAE,qCAAqCkC,MAAM,SAASH,GACpDA,EAAMI,iBACNnC,EAAE,QAAQoC,YAAY,qBACtBpC,EAAE,mBAAmBoC,YAAY,aAGnCpC,EAAE,mBAAmBkC,MAAM,WACzBlC,EAAE,qCACDqC,YAAY,8BAEH,IAAIC,UAIhBvC,GAAEwC,MACEC,IAAK,wDACLC,KAAM,QACNC,OAAQ,MACRC,cAAe,WACfC,KAAM,SAAUC,GAChBC,MAAM,QAENC,QAAS,SAAUC,GAKnB,IAAK,GAHDC,GAAQD,EAAKA,KACbE,KAEKC,EAAI,EAAO,EAAJA,EAAOA,IAAK,CAE1B,GAAIC,GAAM,cAAcH,EAAME,GAAGE,SAAS,KAAKJ,EAAME,GAAGG,KAAK,8CACVL,EAAME,GAAGI,SAAS,oBACnDN,EAAME,GAAGK,YAAY,OAEvCN,GAAUO,KAAK,OAASL,EAAM,SAEhCrD,EAAE,oBAAoB2D,OAAOR,EAAUS,KAAK,QAIjD5D,EAAEwC,MACEC,IAAK,gGACLC,KAAM,QACNC,OAAQ,MACRC,cAAe,eACfiB,MAAO,SAAUf,GAClBC,MAAMD,IAELE,QAAS,SAAUC,GACpB,GAEMa,GAFFC,EAAQd,EAAKc,MACXC,IAGND,GAAME,KAAK,WAAY,MAAO,GAAMC,KAAKC,UAEzC,KAAK,GAAIC,GAAI,EAAO,EAAJA,EAAOA,IACtBN,EAAK,cAAcC,EAAMK,GAAGC,MAAMC,EAAEC,QAAQ,KAAK,MAAM,kIACqDR,EAAMK,GAAGC,MAAMC,EAAE,iDAE1HN,EAAUN,KAAK,OAASI,EAAK,QAG/B9D,GAAE,gBAAgB2D,OAAOK,EAAUJ,KAAK,IAC5B,IAAIrB,UAGlBvC,GAAE,4BAA4BO,IAAI,SAAUN,EAAE,cAAcuE,QAAU,MACtExE,EAAEuB,QAAQkD,OAAO,WAChBzE,EAAE,cAAcO,IAAI,SAAUP,EAAE,cAAcwE,QAAU,WAK5DxE,EAAE,gBAAgB0E,SAAS,IAAI,QAAS,SAAS9C,GAE9C,GAAIa,GAAMzC,EAAE2E,MAAMC,KAAK,OAEvB5E,GAAE,iBAAiBqB,SACnBjB,EAAaqC,GACbb,EAAEQ","file":"site.js","sourcesContent":["//= include ['includes/header.js', 'vendor/*.js'] \nvar o = $;\n\n$(document).ready(function() {   \n  o(\"body\").addClass('loaded');\n  // pjax.connect('content', 'pjaxer');\n  pjax.connect({\n    parseJS: true,\n    'complete': function(e){\n      // setTimeout(closeOverlay, 1);\n      closeOverlay(); \n    }\n  });\n  document.getElementById(\"content\").addEventListener('complete', function(event){\n   console.log(event); \n  }, false);\n  \n  // Open checkout menu\n  $(\".open-side-menu, .close-main-menu\").click(function(event) {\n    event.preventDefault();\n    $(\"body\").toggleClass(\"side-menu-showing\");\n    $(\".overlay-holder\").toggleClass(\"overlay\");\n  });\n  // Close overlay \n  $(\".overlay-holder\").click(function() {\n    $(\".overlay-holder, .side-menu, body\")\n    .removeClass(\"overlay side-menu-showing\");\n  });\n  var bLazy = new Blazy({ \n      // options\n  });\n  // Get github repos\n  o.ajax({\n      url: 'https://api.github.com/users/musca/repos?sort=updated'\n    , type: 'jsonp'\n    , method: 'get'\n    , jsonpCallback: 'callback'\n    , fail: function (err) { \n      alert(\"err\");\n    }\n    , success: function (data) {\n      \n      var repos = data.data,\n          tmpHolder = [];\n\n      for (var i = 0; i < 5; i++) {\n\n        var tmp = '  <a href=\"'+repos[i].html_url+'\">'+repos[i].name+'</a> '+\n                  '  <span class=\"language smaller-text\">'+repos[i].language+'</span><br> '+\n                  '  <p>'+repos[i].description+'</p> ';\n\n        tmpHolder.push('<li>' + tmp + '</li>');\n      };\n      o(\".github-projects\").append(tmpHolder.join(''));\n    }\n  });\n  //Flickr stream\n\to.ajax({\n\t    url: 'http://api.flickr.com/services/feeds/photos_public.gne?format=json&id=64589350@N05&lang=en-us'\n\t  , type: 'jsonp'\n\t  , method: 'get'\n\t  , jsonpCallback: 'jsoncallback'\n\t  , error: function (err) { \n\t  \talert(err);\n\t  }\n\t  , success: function (data) {\n\t  \tvar items = data.items,\n          imgHolder = [],\n          li;\n\n\t  \titems.sort(function() {return 0.5 - Math.random()});\n\n\t  \tfor (var u = 0; u < 6; u++) {\n\t  \t\tli =\t'  <a href=\"'+items[u].media.m.replace('_m','_b')+'\" class=\"zoom\" rel=\"group\">' +\n    \t  \t\t\t'    <img src=data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==   data-src=\"'+items[u].media.m+'\" alt=\"flickr pictures\" class=\"b-lazy\"/>' +\n              '  </a>';\n        imgHolder.push('<li>' + li + '</li>');\n\t  \t};\n\n      o(\".flickr-feed\").append(imgHolder.join(''));\n      var bLazy = new Blazy({ \n          // options\n      });\n\t  \to('.flickr-feed, .flickr li').css('height', $('.flickr li').width() + 'px');\n  \t\to(window).resize(function() {\n  \t\t\to('.flickr li').css('height', o('.flickr li').width() + 'px');\n  \t\t});   \n\t  }\n\t});\n\n\to('.flickr-feed').delegate('a','click', function(e) {\n    // alert(topPos);\n    var url = o(this).attr('href');\n    //alert(url);\n    o('.flickr > img').remove();\n    PreloadImage(url);\n    e.preventDefault();\n  });\n\n\tfunction PreloadImage(imgSrc, callback){\n\t  var objImagePreloader = new Image();\n\n\t  objImagePreloader.src = imgSrc;\n\t  if(objImagePreloader.complete){   \n      callback();\n\t   \tobjImagePreloader.onload=function(){};\n\t  }\n\t  else{\n      o('.flickrLoader').css('display', 'block');\n\t    objImagePreloader.onload = function() {\n\t      o('.flickr > img').remove();\n\t      callback();\n\t      objImagePreloader.onload=function(){};\n\t    }\n\t  }\n\n\t  function callback() {           \n      //window.scrollTo(topPos,topPos)\n      o('.flickrLoader').css('display', 'none');\n      o('.flickr h3').after(objImagePreloader);\n      fImg = o('#flickr > img');\n      fImg.addClass('show');\n\t  \tvar imgHeight = fImg.height();\n      if (imgHeight > 730) {\n      \to('.flickr > img').css('max-width', '730');\n\t    }\n      scrollWindow(o('.flickr').offset().top);\n\t  }\n\t}\n  // Scrolls to the top position of the offset value that you pass.\n  function scrollWindow(topPos){\n    window.scrollTo(0, topPos);\n  }\n});"],"sourceRoot":"/source/"}